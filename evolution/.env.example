########################################
# CONFIGURACIÓN BÁSICA DEL SERVIDOR
########################################

SERVER_NAME=evolution
SERVER_TYPE=http
SERVER_PORT=8080
# URL externa a través de Nginx Proxy Manager
SERVER_URL=https://evo.fulltechvzla.com

# Telemetría
TELEMETRY_ENABLED=false
TELEMETRY_URL=

########################################
# BASE DE DATOS POSTGRES (MISMA RED DOCKER)
########################################

POSTGRES_USER=fulltech
POSTGRES_PASSWORD=Cambia_Esta_Clave_2025!
POSTGRES_DB=evolution_db

# Evolution usa esta URI para Prisma
DATABASE_PROVIDER=postgresql
DATABASE_CONNECTION_URI=postgresql://fulltech:Cambia_Esta_Clave_2025!@evolution-postgres:5432/evolution_db?schema=public
DATABASE_CONNECTION_CLIENT_NAME=evolution_exchange

# (Opcional: si alguna herramienta mira estas variables sueltas)
DB_USER=fulltech
DB_PASS=Cambia_Esta_Clave_2025!
DB_HOST=evolution-postgres
DB_PORT=5432
DB_NAME=evolution_db

########################################
# REDIS / CACHE
########################################

CACHE_REDIS_ENABLED=true
CACHE_REDIS_URI=redis://evolution-redis:6379/6
CACHE_REDIS_TTL=604800
CACHE_REDIS_PREFIX_KEY=evolution
CACHE_REDIS_SAVE_INSTANCES=false

# Cache local desactivada (usamos Redis)
CACHE_LOCAL_ENABLED=false

########################################
# LOGS
########################################

LOG_LEVEL=ERROR,WARN,DEBUG,INFO,LOG,VERBOSE,DARK,WEBHOOKS,WEBSOCKET
LOG_COLOR=true
LOG_BAILEYS=error

EVENT_EMITTER_MAX_LISTENERS=50
DEL_INSTANCE=false

########################################
# AUTENTICACIÓN GLOBAL DE LA API
########################################

# Clave global para crear instancias y usar endpoints administrativos.
# El cliente deberá usarla en el header:  apikey: <valor>
AUTHENTICATION_API_KEY=Cambia_Esta_APIKEY_Super_Larga_2025!
AUTHENTICATION_EXPOSE_IN_FETCH_INSTANCES=true
LANGUAGE=es

########################################
# CORS
########################################

CORS_ORIGIN=*
CORS_METHODS=GET,POST,PUT,DELETE
CORS_CREDENTIALS=true

########################################
# WEBHOOKS / INTEGRACIONES (DESACTIVADAS POR DEFECTO)
########################################

WEBHOOK_GLOBAL_ENABLED=false
WEBHOOK_GLOBAL_URL=''
WEBHOOK_GLOBAL_WEBHOOK_BY_EVENTS=false

WEBHOOK_EVENTS_APPLICATION_STARTUP=false
WEBHOOK_EVENTS_QRCODE_UPDATED=true
WEBHOOK_EVENTS_MESSAGES_SET=true
WEBHOOK_EVENTS_MESSAGES_UPSERT=true
WEBHOOK_EVENTS_MESSAGES_EDITED=true
WEBHOOK_EVENTS_MESSAGES_UPDATE=true
WEBHOOK_EVENTS_MESSAGES_DELETE=true
WEBHOOK_EVENTS_SEND_MESSAGE=true
WEBHOOK_EVENTS_SEND_MESSAGE_UPDATE=true
WEBHOOK_EVENTS_CONTACTS_SET=true
WEBHOOK_EVENTS_CONTACTS_UPSERT=true
WEBHOOK_EVENTS_CONTACTS_UPDATE=true
WEBHOOK_EVENTS_PRESENCE_UPDATE=true
WEBHOOK_EVENTS_CHATS_SET=true
WEBHOOK_EVENTS_CHATS_UPSERT=true
WEBHOOK_EVENTS_CHATS_UPDATE=true
WEBHOOK_EVENTS_CHATS_DELETE=true
WEBHOOK_EVENTS_GROUPS_UPSERT=true
WEBHOOK_EVENTS_GROUPS_UPDATE=true
WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE=true
WEBHOOK_EVENTS_CONNECTION_UPDATE=true
WEBHOOK_EVENTS_REMOVE_INSTANCE=false
WEBHOOK_EVENTS_LOGOUT_INSTANCE=false
WEBHOOK_EVENTS_LABELS_EDIT=true
WEBHOOK_EVENTS_LABELS_ASSOCIATION=true
WEBHOOK_EVENTS_CALL=true
WEBHOOK_EVENTS_TYPEBOT_START=false
WEBHOOK_EVENTS_TYPEBOT_CHANGE_STATUS=false
WEBHOOK_EVENTS_ERRORS=false
WEBHOOK_EVENTS_ERRORS_WEBHOOK=

WEBHOOK_REQUEST_TIMEOUT_MS=60000
WEBHOOK_RETRY_MAX_ATTEMPTS=10
WEBHOOK_RETRY_INITIAL_DELAY_SECONDS=5
WEBHOOK_RETRY_USE_EXPONENTIAL_BACKOFF=true
WEBHOOK_RETRY_MAX_DELAY_SECONDS=300
WEBHOOK_RETRY_JITTER_FACTOR=0.2
WEBHOOK_RETRY_NON_RETRYABLE_STATUS_CODES=400,401,403,404,422

########################################
# WEBSOCKET / PUSHERS / KAFKA / OTROS (OFF)
########################################

WEBSOCKET_ENABLED=false
WEBSOCKET_GLOBAL_EVENTS=false
WEBSOCKET_ALLOWED_HOSTS=127.0.0.1,::1,::ffff:127.0.0.1

PUSHER_ENABLED=false
PUSHER_GLOBAL_ENABLED=false

KAFKA_ENABLED=false
KAFKA_GLOBAL_ENABLED=false

RABBITMQ_ENABLED=false
SQS_ENABLED=false

########################################
# INTEGRACIONES DESACTIVADAS
########################################

CHATWOOT_ENABLED=false
OPENAI_ENABLED=false
DIFY_ENABLED=false
N8N_ENABLED=false
EVOAI_ENABLED=false

########################################
# OTROS
########################################

CONFIG_SESSION_PHONE_CLIENT=Evolution API
CONFIG_SESSION_PHONE_NAME=Chrome

QRCODE_LIMIT=30
QRCODE_COLOR='#175197'
